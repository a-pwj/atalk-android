#!/bin/bash
. x264_build_settings.sh

SYSROOT=${ANDROID_NDK}/platforms/${PLATFORM}/arch-arm64
TOOLCHAIN=${ANDROID_NDK}/toolchains/aarch64-linux-android-4.9/prebuilt/linux-x86_64

function build_target
{
make clean

./configure \
  ${COMMON} \
  --prefix=${PREFIX} \
  --includedir=${PREFIX}/include/x264 \
  --cross-prefix=${CROSS_PREFIX} \
  --sysroot=${SYSROOT} \
  --host=aarch64-linux \
  --extra-cflags="-O3 -march=armv8-a -DANDROID"

# for ndk-r16b and above
#  --extra-cflags="-isystem ${ANDROID_NDK}/sysroot/usr/include/aarch64-linux-android -isystem ${ANDROID_NDK}/sysroot/usr/include" \

make -j${HOST_NUM_CORES} install
}

export ABI=arm64-v8a
PREFIX=../android/${ABI}
CROSS_PREFIX=${TOOLCHAIN}/bin/aarch64-linux-android-

pushd x264
build_target

pushd ${PREFIX}/lib
update_x264.so
popd

echo -e "*** Android x264-${X264_API} for ${ABI} builds completed ***\n\n"

# ffmpeg - fixed with -Wl,--unresolved-symbols=ignore-in-shared-libs
# export ADDI_LDFLAGS="-Wl,-z,defs -Wl,--unresolved-symbols=ignore-in-shared-libs"

# Must not include the following option. Used by configure, config.mak and Makefile to define AS and to include the required *.S assembly files for compilation.
# --disable-asm disable
# Otherwise will produce the following error when build with ffmpeg (x264-152)

#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_nal_escape_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_hadamard_ac_8x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_decimate_score16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_sad_x4_4x4_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_sa8d_16x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_predict_8x8_v_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_sad_4x4_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_sad_4x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_quant_4x4x4_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_denoise_dct_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_cabac_encode_terminal_asm'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_ssd_16x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_add8x8_idct_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_deblock_strength_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_coeff_level_run8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_sad_x3_8x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_predict_4x4_dc_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_sub4x4_dct_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_zigzag_scan_8x8_field_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_add8x8_idct8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_hadamard_ac_16x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_deblock_v_chroma_intra_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_add16x16_idct_dc_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_sad_x4_8x4_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_add16x16_idct_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_ssim_end4_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_dct4x4dc_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_sub16x16_dct8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_dequant_4x4_dc_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_zigzag_scan_8x8_frame_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_sad_x3_8x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_predict_8x8_dc_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_sad_16x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_predict_16x16_h_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_satd_4x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_satd_16x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_sub8x8_dct8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_zigzag_sub_4x4ac_frame_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_sa8d_8x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_sad_x4_8x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_sub8x8_dct_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_predict_4x4_v_aarch64'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_ssd_16x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_ssd_4x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_sad_x3_16x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_sad_8x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_decimate_score64_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_satd_8x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_hadamard_ac_16x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_predict_8x8c_h_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_sub8x8_dct_dc_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_ssd_nv12_core_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_deblock_h_chroma_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_deblock_h_luma_intra_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_ssd_4x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_satd_16x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_predict_8x8_init_aarch64'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_zigzag_sub_4x4ac_field_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_ssd_8x4_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_sub8x16_dct_dc_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_var_8x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_coeff_last15_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_ssd_8x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_decimate_score15_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_deblock_h_chroma_intra_mbaff_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_sad_x4_8x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_hadamard_ac_8x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_predict_8x16c_init_aarch64'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_cabac_encode_bypass_asm'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_deblock_h_chroma_422_intra_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_deblock_v_luma_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_coeff_last8_aarch64'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_deblock_h_chroma_intra_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_sad_x4_16x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_coeff_level_run4_aarch64'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_sad_4x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_predict_4x4_init_aarch64'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_sad_x3_16x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_ssim_4x4x2_core_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_add4x4_idct_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_coeff_last4_aarch64'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_coeff_level_run15_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_predict_8x8c_init_aarch64'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_dequant_4x4_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_add16x16_idct8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_predict_8x16c_h_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_zigzag_interleave_8x8_cavlc_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_quant_4x4_dc_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_var2_8x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_predict_16x16_v_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_var_16x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_mc_init_aarch64'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_satd_8x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_zigzag_scan_4x4_frame_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_quant_2x2_dc_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_deblock_v_chroma_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_deblock_h_chroma_mbaff_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_add8x8_idct_dc_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_predict_8x16c_v_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_sad_x3_8x4_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_satd_4x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_asd8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_deblock_h_chroma_422_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_predict_8x16c_dc_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_deblock_v_luma_intra_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_predict_8x8c_v_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_coeff_last16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_sad_8x4_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_sad_x3_4x4_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_coeff_level_run16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_vsad_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_var_8x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_sad_x4_4x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_dequant_8x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_predict_16x16_dc_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_idct4x4dc_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_satd_4x4_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_sa8d_satd_16x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_predict_16x16_init_aarch64'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_satd_8x4_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_var2_8x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_predict_4x4_h_aarch64'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_deblock_h_luma_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_cabac_encode_decision_asm'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_zigzag_sub_4x4_field_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_sad_x3_4x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_ssd_4x4_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_sad_x4_16x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_zigzag_scan_4x4_field_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_zigzag_sub_8x8_frame_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_sad_16x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_predict_8x8c_dc_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_coeff_last64_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_zigzag_sub_8x8_field_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_quant_4x4_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_ssd_8x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_pixel_sad_8x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_zigzag_sub_4x4_frame_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_predict_8x8_h_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_sub16x16_dct_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_quant_8x8_neon'

# will produce the following error when build with ffmpeg (x264-157)
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_quant_4x4x4_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_zigzag_scan_8x8_field_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_10_cabac_encode_decision_asm'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_deblock_h_chroma_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_satd_16x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_sad_x4_4x4_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_sub8x16_dct_dc_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_sa8d_8x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_sad_x3_8x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_predict_8x8c_v_aarch64'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_var2_8x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_ssd_4x4_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_add16x16_idct_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_ssd_8x4_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_decimate_score15_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_add16x16_idct_dc_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_sad_x3_8x4_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_add16x16_idct8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_add8x8_idct_dc_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_var_8x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_satd_4x4_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_sad_x3_4x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_coeff_last15_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_add8x8_idct8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_deblock_h_chroma_422_intra_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_predict_8x8_h_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_sad_8x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_predict_4x4_init_aarch64'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_sub8x8_dct_dc_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_coeff_last8_aarch64'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_zigzag_scan_4x4_field_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_ssim_4x4x2_core_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_sad_x4_8x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_predict_4x4_dc_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_predict_8x8c_dc_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_sub16x16_dct8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_sad_16x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_sad_8x4_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_satd_8x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_satd_8x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_10_predict_16x16_init_aarch64'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_ssim_end4_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_var2_8x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_deblock_v_luma_intra_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_satd_16x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_predict_8x8c_h_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_sad_x3_4x4_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_hadamard_ac_8x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_satd_4x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_deblock_h_luma_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_10_predict_8x8c_init_aarch64'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_ssd_16x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_10_predict_8x16c_init_aarch64'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_deblock_h_chroma_mbaff_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_coeff_last64_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_zigzag_sub_4x4_field_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_predict_8x8c_init_aarch64'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_sad_8x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_zigzag_interleave_8x8_cavlc_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_predict_8x8_dc_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_mc_init_aarch64'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_ssd_8x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_sad_x3_8x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_var_16x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_deblock_h_chroma_intra_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_dct4x4dc_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_asd8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_predict_4x4_h_aarch64'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_var_8x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_dequant_8x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_coeff_level_run4_aarch64'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_predict_4x4_v_aarch64'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_decimate_score16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_denoise_dct_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_sad_x4_16x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_deblock_h_chroma_intra_mbaff_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_zigzag_sub_4x4ac_frame_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_predict_16x16_dc_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_decimate_score64_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_zigzag_sub_4x4ac_field_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_quant_4x4_dc_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_add8x8_idct_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_coeff_level_run8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_sad_x4_8x4_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_dequant_4x4_dc_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_satd_8x4_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_deblock_v_chroma_intra_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_deblock_h_luma_intra_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_predict_16x16_h_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_deblock_v_chroma_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_zigzag_scan_8x8_frame_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_cabac_encode_terminal_asm'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_zigzag_sub_8x8_frame_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_deblock_strength_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_zigzag_sub_8x8_field_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_10_cabac_encode_bypass_asm'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_zigzag_scan_4x4_frame_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_predict_16x16_init_aarch64'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_coeff_last16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_add4x4_idct_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_hadamard_ac_8x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_sad_4x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_10_nal_escape_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_dequant_4x4_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_10_predict_8x8_init_aarch64'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_sad_x4_4x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_quant_8x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_cabac_encode_decision_asm'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_sad_x4_16x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_sub8x8_dct8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_ssd_4x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_sad_4x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_sad_x3_16x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_10_cabac_encode_terminal_asm'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_cabac_encode_bypass_asm'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_coeff_last4_aarch64'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_idct4x4dc_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_ssd_8x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_predict_8x8_v_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_ssd_4x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_vsad_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_deblock_h_chroma_422_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_coeff_level_run16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_predict_8x16c_h_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_ssd_nv12_core_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_sa8d_16x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_sad_x3_16x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_predict_8x16c_init_aarch64'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_10_mc_init_aarch64'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_sad_x4_8x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_hadamard_ac_16x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_deblock_v_luma_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_sub4x4_dct_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_quant_2x2_dc_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_predict_8x16c_v_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_10_predict_4x4_init_aarch64'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_predict_16x16_v_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_zigzag_sub_4x4_frame_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_ssd_16x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_quant_4x4_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_hadamard_ac_16x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_predict_8x8_init_aarch64'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_predict_8x16c_dc_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_sa8d_satd_16x16_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_nal_escape_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_sad_16x8_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_coeff_level_run15_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_sub8x8_dct_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_sad_4x4_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_sub16x16_dct_neon'
#../android/arm64-v8a/lib/libx264.so: undefined reference to `x264_8_pixel_satd_4x16_neon'
